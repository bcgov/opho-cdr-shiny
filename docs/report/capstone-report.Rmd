---
title: "BC Chronic Disease Capstone Report"
subtitle: "Capstone Partner: BC Office of the Provincial Health Officer, Mentor: Daniel Chen"
author: "Team: Jennifer Hoang, Jessie Wong, Mahmoodur Rahman, Irene Yan"
date: "`r Sys.Date()`"
output: 
  bookdown::pdf_document2
header-includes:
 \usepackage{float}
bibliography: capstone-report.bib
---

```{r global_options, include=FALSE}
knitr::opts_chunk$set(fig.pos = 'H')
```
\newpage

# Executive Summary 

The BC Chronic Disease Registry (BCCDR) is a data product that captures
information about the rates of new and persistent cases of 25 different chronic
diseases across the Province of British Columbia. Crude and age-standardized
rates of disease are recorded for different health boundary types, including HAs 
(Health Authorities) and CHSAs (Community Health Service Areas), as well as for demographic
variables such as sex. In this project we aim to develop and analysis pipeline to describe
the temporal trends in the data, and the build an interactive dashboard that will allow users
of all technical expertise to explore and visualize spatial and temporal information of the 
disease rates. This proposal will outline the approach we took to
tackle this problem and a description of our final product deliverable.

\newpage

# Introduction 


## Dashboard

## Temporal Modeling


# Data Science Techniques

## Temporal Modeling

For temporal modeling, we selected the INLA approximation approach for Bayesian modeling. 
INLA is faster compared to Markov Chain Monte Carlo simulation based methods (@wang_2018), 
and since there were over 10,000 combinations of 
CHSAs, diseases, and rates to be modeled, computational speed was a key consideration.
Potential disadvantages of INLA include that small variations between repeated runs 
can occur as a trade-off for the faster computation gained by using multiple cores (@wang_2018). 
However, these small variations are well beyond the significant digits of our data, therefore, we considered this to be an acceptable trade-off.

With INLA, we used a Gamma generalized linear model to smoothen the 
age-standardized rate, which is a continuous, positive response. The effect of
year was modeled using a Random Walk prior to account for temporal autocorrelation.
On each CHSA, disease, and rate, a first order random walk (RW1) 
and second order random walk (RW2) model was fit and the best RW model was selected using the
Widely Applicable Information Criterion (WAIC).

A limitation of this approach was that rare diseases with low incidence and prevalence rates
could not be modeled, because the Gamma distribution does not provide support for values of 0.
Despite this limitation, our model was applied to 84% of incidence rate data, 91% of HSC prevalence rate data, and 98% of life prevalence rate data.

Alternative approaches that were explored to accommodate the zero values were to
use the Tweedie distribution, which can accommodate positive continuous data
with a point mass at zero (@kurz_2017). 
The implementation of the Tweedie distribution in R-INLA remains experimental and subject to change, 
however, and this approach was not further pursued due to poor model fit on our data. 
Zero-inflated gamma and hurdle gamma models were also investigated to accommodate zero values,
but were not supported by R-INLA at the time of this project.

# Data Product and Results

## Dashboard

## Temporal Modeling


# Conclusion and Recommendations


# References
